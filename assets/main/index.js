System.register("chunks:///_virtual/arrow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,o,n,r,s,c,a;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,c=i.Vec3,a=i.Component}],execute:function(){var h,d,p;r._RF.push({},"237c7b+bxhGDKJ44HAIyE/G","arrow",void 0);var u=s.ccclass,l=s.property;i("arrow",u("arrow")((p=t((d=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,o(t,"speed",p,n(t)),t.direction=1,t.origin=new c,t}e(t,i);var r=t.prototype;return r.init=function(i,t){this.direction=i,this.origin.set(t)},r.update=function(i){1==this.direction?(this.node.setScale(1,1),this.node.setPosition(this.node.getPosition().x+this.speed*i*this.direction,this.node.position.y)):-1==this.direction&&(this.node.setScale(-1,-1),this.node.setPosition(this.node.getPosition().x+this.speed*i*this.direction,this.node.position.y)),this.node.getPosition().subtract(this.origin).length()>1e3&&this.node.destroy()},t}(a)).prototype,"speed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),h=d))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/bag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./conf.ts","./tool.ts","./dialogue.ts","./hero.ts"],(function(e){var t,n,o,r,a,i,l,s,u,c,m,h,p,d,g,f,T,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Node,s=e.Prefab,u=e.director,c=e.Input,m=e.instantiate,h=e.find,p=e.Component},function(e){d=e.conf},function(e){g=e.tool},function(e){f=e.dialogue},function(e){T=e.hero,y=e.CharacterMode}],execute:function(){var b,v,C,A,F,L,O,S,w;a._RF.push({},"8460dnm+vhOmLd5cRJqk/qH","bag",void 0);var E=i.ccclass,U=i.property;e("bag",(b=E("bag"),v=U(l),C=U(s),A=U(l),b((O=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,o(t,"gridLayout",O,r(t)),o(t,"toolPrefab",S,r(t)),o(t,"Touch",w,r(t)),t.toolsArray=void 0,t.mailerAlreadyUsed=!1,t.swordAlreadyUsed=!1,t.bowAlreadyUsed=!1,t}n(t,e);var a=t.prototype;return a.start=function(){u.addPersistRootNode(this.node),this.Touch.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.Touch.on(c.EventType.TOUCH_END,this.onTouchEnd,this)},a.spawnTools=function(){this.toolsArray=[];for(var e=0;e<d.TOOLS.length;e++){var t=m(this.toolPrefab);t.on(c.EventType.TOUCH_START,this.onTouchStartTool,this),t.getComponent(g).init(d.TOOLS[e]),this.toolsArray.push(t),this.gridLayout.addChild(t)}},a.onTouchEnd=function(e){this.Touch.setScale(1,1)},a.onTouchStart=function(e){this.Touch.setScale(.9,.9),this.gridLayout.parent.active?(this.gridLayout.parent.active=!1,this.toolsArray.forEach((function(e){e.removeFromParent()}))):(this.gridLayout.parent.active=!0,this.spawnTools())},a.onTouchStartTool=function(e){for(var t=e.target.getComponent(g).getToolName(),n=u.getScene().name,o=h("Canvas/dialogue-bubble"),r=h("Canvas/hero"),a=null,i=0;i<d.TOOLS.length;i++)if(d.TOOLS[i].name===t){a=d.TOOLS[i];break}if(!o.active){switch(t){case"信封":"TAKE1"!=n||this.mailerAlreadyUsed?o.getComponent(f).init([a,{name:"旁白",content:"（似乎什麼事都沒發生）",url:null}]):(this.mailerAlreadyUsed=!0,o.getComponent(f).init([a,{name:"信封",content:"「好久不見，蘇，不知道你過得好嗎？因為一些原因，我離開了孤兒院，成為了一名祭司，信封中的吊墜是我替你保管的，如果你有感應到什麼的話，就來找我吧。」",url:"tools/mailer/spriteFrame"},{name:"蘇",content:"（翻至信件背面）",url:"Dialog/role/hero/spriteFrame"},{name:"信封",content:"「El-Gamaleya, 吉薩省 4304122埃及——樂媞．艾利特」",url:"tools/mailer/spriteFrame"},{name:"蘇",content:"樂媞...好熟悉的名字，是我小時候在孤兒院的玩伴嗎？",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（困惑之際，信封中掉出了一個奇怪的東西）",url:null},{name:"系統提示",content:"獲得道具「聖甲蟲吊墜」",url:"tools/pendant/spriteFrame"}]),d.TOOLS.push({name:"聖甲蟲吊墜",content:"這個吊墜似乎與古埃及神祇有著神祕的聯繫（點擊使用）",url:"tools/pendant/spriteFrame"}));break;case"聖甲蟲吊墜":"TAKE1"==n?o.getComponent(f).init([a,{name:"旁白",content:"（蘇戴起了那個未知的吊墜，隨即感到暈頭轉向，並昏了過去）",url:null}]):o.getComponent(f).init([a,{name:"旁白",content:"（似乎什麼事都沒發生）",url:null}]);break;case"荷魯斯之戒":"TAKE4"==n?o.getComponent(f).init([a,{name:"旁白",content:"（不明所以的蘇，正準備繼續前進，卻突然發現自己可以讀懂牆上的文字）",url:null},{name:"荷魯斯之戒",content:"「傳聞有之，孔蘇手持二寶。其一，曰「月輪」，潔白無瑕，如玉凝冰；其二，號「生命之符」，能治癒眾生；至於用途，則是...」",url:"tools/ring/spriteFrame"},{name:"旁白",content:"（牆上的內容到這邊就中斷了）",url:null},{name:"蘇",content:"後續呢？",url:"Dialog/role/hero/spriteFrame"}]):o.getComponent(f).init([a,{name:"旁白",content:"（似乎什麼事都沒發生）",url:null}]);break;case"卷軸":"TAKE3"==n?o.getComponent(f).init([a,{name:"卷軸",content:"「孔蘇是古埃及王國的第一代月神，也是治癒之神。他曾幫助人類治病、除暴安良，因而深受人民愛戴。然而，他不幸墜入了一場禁忌的愛情，深深愛上了一位名叫努特的人類女子，努特有著傾國傾城的容貌，卻身患怪病，久病不癒。」",url:"tools/reel/spriteFrame"},{name:"卷軸",content:"「為了拯救自己的愛人，孔蘇將自己的部分力量轉移給努特，延續她的生命，自己則陷入了沉睡。得知這個消息的國王畏懼努特的力量，為了保住王位，他決定陷害努特戴上特製的聖甲蟲吊墜，吸取他的力量。」",url:"tools/reel/spriteFrame"},{name:"卷軸",content:"「王宮內有位曾受孔蘇幫助的大臣知曉國王的意圖後，便偷偷將這消息告訴了努特。當時已懷有身孕的努特，帶著大臣從皇宮內偷來的聖甲蟲吊墜，展開了逃亡，並在逃亡途中生下了一個嬰兒。」",url:"tools/reel/spriteFrame"},{name:"卷軸",content:"「努特為了保護孩子，讓吊墜吸收自己的力量，並將吊墜與孩子託付給孔蘇的信徒，自己前往皇宮自首。國王逮住努特後，卻發現他早已沒了神力，吊墜也不知去向，於是便把努特與走漏風聲的大臣一同處死。」",url:"tools/reel/spriteFrame"},{name:"卷軸",content:"「醒來後的孔蘇發現努特慘遭殺害，小孩也不知去向，即便憤怒充斥著他的內心，但力量所剩無幾的他也無力回天。神留下了最後一句警告：“人類，你會為你的所做所為付出代價！”語畢，他透過金字塔內的傳送門返回月球，等待著復仇的時刻。」",url:"tools/reel/spriteFrame"},{name:"蘇",content:"原來夢中的那個聲音就是孔蘇...看來我得前往金字塔尋找傳送門，並想辦法阻止他",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"話音剛落，聖甲蟲吊墜彷彿聽到了蘇的心聲，展開翅膀朝著某個方向飛去，蘇也跟了上去",url:null}]):o.getComponent(f).init([a,{name:"旁白",content:"（似乎什麼事都沒發生）",url:null}]);break;case"月輪":case"生命之符":o.getComponent(f).init([a]);break;case"劫墓之刃":this.swordAlreadyUsed||o.getComponent(f).init([a]),this.swordAlreadyUsed=!0,r.getComponent(T).heroMode=y.sword;break;case"三角弓":this.bowAlreadyUsed||o.getComponent(f).init([a]),this.bowAlreadyUsed=!0,r.getComponent(T).heroMode=y.bow}this.gridLayout.parent.active=!1,this.toolsArray.forEach((function(e){e.removeFromParent()}))}},a.update=function(e){},t}(p)).prototype,"gridLayout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(L.prototype,"toolPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(L.prototype,"Touch",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=L))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/bandit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,a,s,o,c,r,h,l,d,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,c=t.CCFloat,r=t.CCInteger,h=t.Node,l=t.Animation,d=t.Vec3,u=t.Component}],execute:function(){var b,p,g,k,f,m,D,A,C,y,v;s._RF.push({},"c7fa5AqvTpAwoxRaHUvgUHW","bandit",void 0);var S=o.ccclass,I=o.property,P=t("State",function(t){return t[t.isWalkingRight=0]="isWalkingRight",t[t.isWalkingLeft=1]="isWalkingLeft",t[t.isAttacking=2]="isAttacking",t[t.isIdle=3]="isIdle",t[t.isDie=4]="isDie",t[t.isHurt=5]="isHurt",t}({}));t("bandit",(b=S("bandit"),p=I({type:c}),g=I({type:c}),k=I({type:r}),f=I(h),b((A=i((D=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,n(i,"hp",A,a(i)),n(i,"speed",C,a(i)),n(i,"attackPower",y,a(i)),n(i,"heroNode",v,a(i)),i.banditState=P.isIdle,i.CD=!1,i.callback=void 0,i.attackCallback=void 0,i.isAttacking=!1,i.isDead=!1,i.reciveDamage=void 0,i}e(i,t);var s=i.prototype;return s.start=function(){this.node.getComponent(l).on(l.EventType.FINISHED,this.onAnimationFINISHED,this),this.node.getComponent(l).on(l.EventType.PLAY,this.onAnimationPLAY,this),this.callback=function(){var t=this.heroNode.getPosition(),i=this.node.getPosition(),e=d.distance(i,t);if(e<=110&&!this.CD)this.banditState=P.isAttacking;else if(e<=110&&this.CD)this.banditState=P.isIdle;else if(e<=580){t.subtract(i).x<0?this.banditState=P.isWalkingLeft:this.banditState=P.isWalkingRight}else this.banditState=P.isIdle},this.schedule(this.callback,.006),this.attackCallback=function(){this.CD=!this.CD}},s.onAnimationFINISHED=function(t,i){"banditAttack"===i.name&&(this.isAttacking=!1,this.CD=!this.CD,this.scheduleOnce(this.attackCallback,2.5),this.banditState=P.isIdle),"banditDeath"===i.name&&(this.banditState=null)},s.onAnimationPLAY=function(t,i){"banditHurt"!==i.name||this.isAttacking||this.hp--,"banditAttack"===i.name&&(this.isAttacking=!0)},s.banditTakeDamage=function(t){this.reciveDamage=t},s.update=function(t){if(!this.isAttacking&&!this.isDead)switch(this.banditState){case P.isWalkingRight:this.getComponent(l).crossFade("banditWalk",.1),this.node.setPosition(this.node.getPosition().x+=this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case P.isWalkingLeft:this.getComponent(l).crossFade("banditWalk",.1),this.node.setPosition(this.node.getPosition().x-=this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case P.isAttacking:this.getComponent(l).crossFade("banditAttack",.1);break;case P.isIdle:this.getComponent(l).crossFade("banditIdle",.1);break;case P.isHurt:this.getComponent(l).crossFade("banditHurt",.1);break;case P.isDie:this.unschedule(this.callback),this.isDead=!0,this.node.setScale(1,1),this.getComponent(l).play("banditDeath")}},i}(u)).prototype,"hp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=i(D.prototype,"speed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=i(D.prototype,"attackPower",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=i(D.prototype,"heroNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=D))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/boss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spell.ts"],(function(t){var s,i,e,a,o,n,l,r,c,h,b,d,u,p,k;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,l=t.CCFloat,r=t.CCInteger,c=t.Node,h=t.Prefab,b=t.Animation,d=t.Vec3,u=t.instantiate,p=t.Component},function(t){k=t.spell}],execute:function(){var g,f,m,v,D,A,y,C,S,P,I,R,F;o._RF.push({},"f3a7fGAlSZMa7TXiudMQhzq","boss",void 0);var H=n.ccclass,w=n.property,W=t("State",function(t){return t[t.isWalkingRight=0]="isWalkingRight",t[t.isWalkingLeft=1]="isWalkingLeft",t[t.isAttacking=2]="isAttacking",t[t.isIdle=3]="isIdle",t[t.isDie=4]="isDie",t[t.isHurt=5]="isHurt",t[t.isRelive=6]="isRelive",t}({})),L=t("Mode",function(t){return t[t.cast=0]="cast",t[t.slash=1]="slash",t}({}));t("boss",(g=H("boss"),f=w({type:l}),m=w({type:l}),v=w({type:r}),D=w(c),A=w(h),g((S=s((C=function(t){function s(){for(var s,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return s=t.call.apply(t,[this].concat(o))||this,e(s,"hp",S,a(s)),e(s,"speed",P,a(s)),e(s,"attackPower",I,a(s)),e(s,"heroNode",R,a(s)),e(s,"spellPrefab",F,a(s)),s.bossState=W.isIdle,s.bossMode=L.slash,s.CD=!1,s.callback=void 0,s.attackCallback=void 0,s.isAttacking=!1,s.isDead=!1,s.isHurt=!1,s.reciveDamage=void 0,s.spell=void 0,s.attackRange=200,s}i(s,t);var o=s.prototype;return o.start=function(){var t=this.node.getComponent(b);t.on(b.EventType.FINISHED,this.onAnimationFINISHED,this),t.on(b.EventType.PLAY,this.onAnimationPLAY,this),this.callback=function(){var t=this.node.getPosition(),s=this.heroNode.getPosition(),i=d.distance(t,s);if(i<=this.attackRange&&!this.CD)this.bossState=W.isAttacking;else if(i<=this.attackRange&&this.CD)this.bossState=W.isIdle;else if(i<=3e3){s.subtract(t).x<0?this.bossState=W.isWalkingLeft:this.bossState=W.isWalkingRight}else this.bossState=W.isIdle}.bind(this),this.attackCallback=function(){this.CD=!1}.bind(this)},o.castSpell=function(){this.spell=u(this.spellPrefab),this.spell.parent=this.node.parent,this.spell.setPosition(this.heroNode.position.x,this.node.position.y),this.spell.getComponent(k).init(this.spell.position)},o.onAnimationFINISHED=function(t,s){"bossAttack"===s.name?(this.isAttacking=!1,this.CD=!0,this.scheduleOnce(this.attackCallback,2),this.bossState=W.isIdle):"bossCast"===s.name?(this.isAttacking=!1,this.CD=!0,this.scheduleOnce(this.attackCallback,2.5),this.bossState=W.isIdle,this.castSpell()):"bossDead"===s.name?(this.bossState=null,this.node.active=!1):("bossRelive"===s.name||"bossHurt"===s.name)&&(this.bossState=W.isIdle)},o.onAnimationPLAY=function(t,s){"bossHurt"===s.name?(this.hp-=this.reciveDamage,this.isHurt=!0):"bossAttack"!==s.name&&"bossCast"!==s.name||(this.isAttacking=!0)},o.bossTakeDamage=function(t){this.reciveDamage=t},o.update=function(t){if(!this.isAttacking&&!this.isDead){this.bossMode==L.cast?(this.attackRange=600,this.attackPower=3):(this.attackRange=200,this.attackPower=4);var s=this.node.getComponent(b);switch(this.bossState){case W.isWalkingRight:s.crossFade("bossWalk",.1),this.node.setPosition(this.node.getPosition().x+this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case W.isWalkingLeft:s.crossFade("bossWalk",.1),this.node.setPosition(this.node.getPosition().x-this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case W.isAttacking:this.isAttacking||(this.bossMode==L.cast?s.crossFade("bossCast",.1):this.bossMode==L.slash&&s.crossFade("bossAttack",.1));break;case W.isIdle:s.crossFade("bossIdle",.1);break;case W.isHurt:s.crossFade("bossHurt",.1);break;case W.isRelive:s.crossFade("bossRelive");break;case W.isDie:this.isDead=!0,s.play("bossDead")}}},s}(p)).prototype,"hp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=s(C.prototype,"speed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=s(C.prototype,"attackPower",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),R=s(C.prototype,"heroNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=s(C.prototype,"spellPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/cameraCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,a,o,s,r,n,l,m,p,h,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,n=t.Node,l=t.v2,m=t.UITransform,p=t.view,h=t.lerp,c=t.Component}],execute:function(){var u,f,C,P,y,x,d;s._RF.push({},"4a384pMnwVCl4GzMf1D4cs0","cameraCtrl",void 0);var v=r.ccclass,g=r.property;t("CameraCtrl",(u=v("CameraCtrl"),f=g(n),C=g(n),u((x=i((y=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,a(i,"Player",x,o(i)),a(i,"Map",d,o(i)),i.maxCamPosX=void 0,i.maxCamPosY=void 0,i.followOffset=l(100,300),i}e(i,t);var s=i.prototype;return s.start=function(){this.maxCamPosX=(this.Map.getComponent(m).contentSize.width*this.Map.scale.x-p.getVisibleSize().width)/2,this.maxCamPosY=(this.Map.getComponent(m).contentSize.height*this.Map.scale.y-p.getVisibleSize().height)/2},s.update=function(t){var i=this.Player.position.x+this.followOffset.x,e=this.Player.position.y+this.followOffset.y,a=this.node.position.x,o=this.node.position.y;i>this.maxCamPosX&&(i=this.maxCamPosX),i<-this.maxCamPosX&&(i=-this.maxCamPosX),e>this.maxCamPosY&&(e=this.maxCamPosY),e<-this.maxCamPosY&&(e=-this.maxCamPosY);var s=h(a,i,2*t),r=h(o,e,2*t);this.node.setPosition(s,r)},i}(c)).prototype,"Player",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(y.prototype,"Map",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=y))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/conf.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,c=t.Component}],execute:function(){var e,u;o._RF.push({},"78470d6FLpGP7U/oyOr7sI7","conf",void 0);var s=r.ccclass;r.property,t("conf",s("conf")(((u=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.start=function(){},r.update=function(t){},o}(c)).TOOLS=[],e=u))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/dialogue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,a,r,s,l,u,c,h,p,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.Label,u=t.Node,c=t.Input,h=t.resources,p=t.SpriteFrame,x=t.Component}],execute:function(){var T,d,g,f,b,m,v,y,L,w,D;a._RF.push({},"b89e9ifUONK6b1AnET1eEzT","dialogue",void 0);var S=r.ccclass,_=r.property;t("dialogue",(T=S("dialogue"),d=_(s),g=_(l),f=_(l),b=_(u),T((y=e((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"picSprite",y,o(e)),n(e,"nameLabel",L,o(e)),n(e,"textLabel",w,o(e)),n(e,"Touch",D,o(e)),e._messages=[],e.textIndex=0,e.totalTime=void 0,e.textEnd=void 0,e.nowText=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.Touch.on(c.EventType.TOUCH_START,this.onTouchStart,this)},a.init=function(t){this.nowText=null,this.textEnd=!0,this.totalTime=0,this.textIndex=0,this._messages=t,this.node.active=!0,this.nextTextData()},a.nextTextData=function(){if(this.textEnd)if(this.textEnd=!1,this.textIndex<this._messages.length){var t=this._messages[this.textIndex];this.setTextData(t),this.textIndex++}else this.closeDialog()},a.setTextData=function(t){var e=this;this.nameLabel.string=t.name,this.textLabel.string="",this.nowText=t.content,h.load(t.url,p,(function(t,i){e.picSprite.getComponent(s).spriteFrame=i}))},a.closeDialog=function(){this.node.active=!1},a.onTouchStart=function(t){this.nextTextData()},a.update=function(t){this.nowText&&(this.totalTime+=t,this.totalTime>=.05&&(this.textLabel.string.length<this.nowText.length?this.textLabel.string=this.nowText.slice(0,this.textLabel.string.length+1):(this.textEnd=!0,this.nowText=null),this.totalTime=0))},e}(x)).prototype,"picSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"nameLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"textLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(v.prototype,"Touch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/hero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./arrow.ts"],(function(t){var e,i,o,s,n,h,a,r,c,u,p,l,d,g,f,m,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,h=t._decorator,a=t.CCFloat,r=t.CCInteger,c=t.AudioClip,u=t.Node,p=t.Prefab,l=t.AudioSource,d=t.Input,g=t.Animation,f=t.instantiate,m=t.Component},function(t){T=t.arrow}],execute:function(){var b,k,C,w,S,y,A,P,v,E,F,H,R,I,L,D,W,x,_,O,z;n._RF.push({},"ec21d7yCuhCS7OIZancP4KJ","hero",void 0);var N=h.ccclass,U=h.property,M=t("CharacterMode",function(t){return t[t.normal=0]="normal",t[t.punch=1]="punch",t[t.sword=2]="sword",t[t.bow=3]="bow",t}({})),Y=t("CharacterState",function(t){return t[t.isWalkingLeft=0]="isWalkingLeft",t[t.isWalkingRight=1]="isWalkingRight",t[t.isRunningLeft=2]="isRunningLeft",t[t.isRunningRight=3]="isRunningRight",t[t.isAttacking=4]="isAttacking",t[t.isHurt=5]="isHurt",t[t.isIdle=6]="isIdle",t[t.isDie=7]="isDie",t}({}));t("hero",(b=N("hero"),k=U({type:a}),C=U({type:r}),w=U({type:c}),S=U({type:c}),y=U({type:a}),A=U(u),P=U(u),v=U(u),E=U(p),b((R=e((H=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];return e=t.call.apply(t,[this].concat(n))||this,o(e,"speed",R,s(e)),o(e,"hp",I,s(e)),o(e,"hit",L,s(e)),o(e,"arrowShot",D,s(e)),o(e,"attackPower",W,s(e)),o(e,"leftTouch",x,s(e)),o(e,"rightTouch",_,s(e)),o(e,"attackTouch",O,s(e)),o(e,"arrowPrefab",z,s(e)),e.soundEffect=new l,e.footStep=new l,e.Combo=0,e.heroMode=M.normal,e.heroState=Y.isIdle,e.isHurt=!1,e.isAttacking=!1,e.leftTouchActive=!1,e.rightTouchActive=!1,e.reciveDamage=void 0,e.arrow=void 0,e}i(e,t);var n=e.prototype;return n.start=function(){this.leftTouch.on(d.EventType.TOUCH_START,this.onTouchStartLeft,this),this.rightTouch.on(d.EventType.TOUCH_START,this.onTouchStartRight,this),this.leftTouch.on(d.EventType.TOUCH_END,this.onTouchEndLeft,this),this.rightTouch.on(d.EventType.TOUCH_END,this.onTouchEndRight,this),this.leftTouch.on(d.EventType.TOUCH_CANCEL,this.onTouchEndLeft,this),this.rightTouch.on(d.EventType.TOUCH_CANCEL,this.onTouchEndRight,this),this.attackTouch.on(d.EventType.TOUCH_START,this.onTouchStartAttack,this),this.attackTouch.on(d.EventType.TOUCH_END,this.onTouchEndAttack,this),this.attackTouch.on(d.EventType.TOUCH_CANCEL,this.onTouchEndAttack,this),this.footStep=this.node.getComponent(l),this.node.getComponent(g).on(g.EventType.FINISHED,this.onAnimationFINISHED,this),this.node.getComponent(g).on(g.EventType.PLAY,this.onAnimationPLAY,this)},n.onTouchStartRight=function(t){this.isHurt||(this.rightTouchActive=!0,this.heroState=Y.isWalkingRight,this.footStep.play())},n.onTouchStartLeft=function(t){this.isHurt||(this.leftTouchActive=!0,this.heroState=Y.isWalkingLeft,this.footStep.play())},n.onTouchEndLeft=function(t){this.leftTouchActive=!1,this.heroState=Y.isIdle,this.footStep.stop()},n.onTouchEndRight=function(t){this.rightTouchActive=!1,this.heroState=Y.isIdle,this.footStep.stop()},n.onTouchStartAttack=function(t){this.isHurt||(this.footStep.stop(),this.heroState=Y.isAttacking)},n.onTouchEndAttack=function(t){this.heroState=Y.isIdle},n.onAnimationFINISHED=function(t,e){"punch1"!==e.name&&"punch2"!==e.name&&"punch3"!==e.name&&"slash1"!==e.name&&"slash2"!==e.name&&"slash3"!==e.name||(this.Combo=(this.Combo+1)%3,0===this.Combo&&(this.leftTouchActive?this.heroState=Y.isWalkingLeft:this.rightTouchActive?this.heroState=Y.isWalkingRight:this.heroState=Y.isIdle),this.isAttacking=!1),"die"===e.name&&this.hp>0&&(this.isHurt=!1,this.hp-=this.reciveDamage,this.heroState=Y.isIdle),"die"===e.name&&this.hp<=0&&(this.isHurt=!0,this.heroState=null),"shootArrow"===e.name&&(this.soundEffect.playOneShot(this.arrowShot),this.shootArrow())},n.onAnimationPLAY=function(t,e){"punch1"!==e.name&&"punch2"!==e.name&&"punch3"!==e.name&&"slash1"!==e.name&&"slash2"!==e.name&&"slash3"!==e.name||(this.soundEffect.playOneShot(this.hit),this.isAttacking=!0),"die"===e.name&&(this.footStep.stop(),this.isHurt=!0)},n.shootArrow=function(){this.arrow=f(this.arrowPrefab),this.arrow.parent=this.node.parent;var t=this.node.scale.x>0?1:-1;this.node.scale.x>0?this.arrow.setPosition(this.node.position.x+110,this.node.position.y+74):this.arrow.setPosition(this.node.position.x-110,this.node.position.y+74),this.arrow.getComponent(T).init(t,this.node.position)},n.getArrowPosition=function(){if(this.arrow&&this.arrow.position)return this.arrow.position.clone()},n.heroTakeDamage=function(t){this.reciveDamage=t},n.update=function(t){if(!this.isHurt&&!this.isAttacking){switch(this.heroMode==M.punch?this.attackPower=1:this.heroMode==M.sword?this.attackPower=1.5:this.heroMode==M.bow&&(this.attackPower=.5),this.heroMode){case M.normal:switch(this.attackTouch.active=!1,this.heroState){case Y.isWalkingRight:this.getComponent(g).crossFade("walking",.1),this.node.setPosition(this.node.getPosition().x+=this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case Y.isWalkingLeft:this.getComponent(g).crossFade("walking",.1),this.node.setPosition(this.node.getPosition().x-=this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case Y.isIdle:this.getComponent(g).crossFade("idle",1);break;case Y.isDie:this.getComponent(g).crossFade("die",.1)}break;case M.punch:switch(this.heroState){case Y.isAttacking:0===this.Combo?this.getComponent(g).crossFade("punch1",.1):1===this.Combo?this.getComponent(g).crossFade("punch2",.1):2===this.Combo&&this.getComponent(g).crossFade("punch3",.1);break;case Y.isWalkingRight:this.getComponent(g).crossFade("run",.1),this.node.setPosition(this.node.getPosition().x+=this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case Y.isWalkingLeft:this.getComponent(g).crossFade("run",.1),this.node.setPosition(this.node.getPosition().x-=this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case Y.isIdle:this.getComponent(g).crossFade("idle",.1);break;case Y.isHurt:this.getComponent(g).crossFade("die",.1)}break;case M.sword:switch(this.heroState){case Y.isAttacking:0===this.Combo?this.getComponent(g).crossFade("slash1",.1):1===this.Combo?this.getComponent(g).crossFade("slash2",.1):2===this.Combo&&this.getComponent(g).crossFade("slash3",.1);break;case Y.isWalkingRight:this.getComponent(g).crossFade("swordRun",.1),this.node.setPosition(this.node.getPosition().x+=this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case Y.isWalkingLeft:this.getComponent(g).crossFade("swordRun",.1),this.node.setPosition(this.node.getPosition().x-=this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case Y.isIdle:this.getComponent(g).crossFade("swordIdle",.1);break;case Y.isHurt:this.getComponent(g).crossFade("die",.1)}break;case M.bow:switch(this.heroState){case Y.isAttacking:this.getComponent(g).crossFade("shootArrow",.1);break;case Y.isWalkingRight:this.getComponent(g).crossFade("run",.1),this.node.setPosition(this.node.getPosition().x+=this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case Y.isWalkingLeft:this.getComponent(g).crossFade("run",.1),this.node.setPosition(this.node.getPosition().x-=this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case Y.isIdle:this.getComponent(g).crossFade("idle",.1);break;case Y.isHurt:this.getComponent(g).crossFade("die",.1)}}this.heroState!==Y.isAttacking&&(this.Combo=0)}},e}(m)).prototype,"speed",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=e(H.prototype,"hp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=e(H.prototype,"hit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(H.prototype,"arrowShot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(H.prototype,"attackPower",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=e(H.prototype,"leftTouch",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(H.prototype,"rightTouch",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(H.prototype,"attackTouch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(H.prototype,"arrowPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=H))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./START.ts","./TAKE0.ts","./TAKE1.ts","./TAKE2.ts","./TAKE3.ts","./TAKE4.ts","./TAKE5.ts","./TAKE6.ts","./TAKE7.ts","./UI.ts","./arrow.ts","./bag.ts","./bandit.ts","./boss.ts","./cameraCtrl.ts","./conf.ts","./dialogue.ts","./hero.ts","./mummy.ts","./priest.ts","./spell.ts","./tool.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mummy.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,a,s,n,m,o,l,r,c,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,a=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){n=i.cclegacy,m=i._decorator,o=i.CCFloat,l=i.Node,r=i.Animation,c=i.Vec3,h=i.Component}],execute:function(){var u,d,y,k,p,g,f,b,D,v,A;n._RF.push({},"0f939lntExFRaWMHASbWS+C","mummy",void 0);var H=m.ccclass,C=m.property,S=i("State",function(i){return i[i.isWalkingRight=0]="isWalkingRight",i[i.isWalkingLeft=1]="isWalkingLeft",i[i.isAttacking=2]="isAttacking",i[i.isIdle=3]="isIdle",i[i.isDie=4]="isDie",i[i.isHurt=5]="isHurt",i[i.isRelive=6]="isRelive",i[i.isHeal=7]="isHeal",i}({}));i("mummy",(u=H("mummy"),d=C({type:o}),y=C({type:o}),k=C({type:o}),p=C(l),u((b=t((f=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),m=0;m<e;m++)n[m]=arguments[m];return t=i.call.apply(i,[this].concat(n))||this,a(t,"hp",b,s(t)),a(t,"speed",D,s(t)),a(t,"attackPower",v,s(t)),a(t,"heroNode",A,s(t)),t.mummyState=S.isIdle,t.CD=!1,t.healCD=!1,t.callback=void 0,t.attackCallback=void 0,t.healCallback=void 0,t.isAttacking=!1,t.isDead=!1,t.reciveDamage=void 0,t.isHeal=void 0,t}e(t,i);var n=t.prototype;return n.start=function(){var i=this.node.getComponent(r);i.on(r.EventType.FINISHED,this.onAnimationFINISHED,this),i.on(r.EventType.PLAY,this.onAnimationPLAY,this),this.callback=function(){var i=this.node.getPosition(),t=this.heroNode.getPosition(),e=c.distance(i,t);if(this.hp<=15&&!this.healCD)this.mummyState=S.isHeal;else if(e<=150&&!this.CD)this.mummyState=S.isAttacking;else if(e<=150&&this.CD)this.mummyState=S.isIdle;else if(e<=3e3){t.subtract(i).x<0?this.mummyState=S.isWalkingLeft:this.mummyState=S.isWalkingRight}else this.mummyState=S.isIdle}.bind(this),this.attackCallback=function(){this.CD=!1}.bind(this),this.healCallback=function(){this.healCD=!1}.bind(this)},n.onAnimationFINISHED=function(i,t){"mummyAttack"===t.name?(this.isAttacking=!1,this.CD=!0,this.scheduleOnce(this.attackCallback,3),this.mummyState=S.isIdle):"mummyDead"===t.name?this.mummyState=null:"mummyRelive"===t.name||"mummyHurt"===t.name?this.mummyState=S.isIdle:"mummyHeal"===t.name&&(this.scheduleOnce(this.healCallback,10),this.hp+=5,this.isHeal=!1)},n.onAnimationPLAY=function(i,t){"mummyHurt"===t.name?this.hp-=this.reciveDamage:"mummyAttack"===t.name?this.isAttacking=!0:"mummyHeal"===t.name&&(this.healCD=!0,this.isHeal=!0)},n.mummyTakeDamage=function(i){this.reciveDamage=i},n.update=function(i){if(!(this.isAttacking||this.isDead||this.isHeal)){var t=this.node.getComponent(r);switch(this.mummyState){case S.isWalkingRight:t.crossFade("mummyWalk",.1),this.node.setPosition(this.node.getPosition().x+this.speed*i,this.node.position.y),this.node.setScale(1,1);break;case S.isWalkingLeft:t.crossFade("mummyWalk",.1),this.node.setPosition(this.node.getPosition().x-this.speed*i,this.node.position.y),this.node.setScale(-1,1);break;case S.isAttacking:this.isAttacking||t.crossFade("mummyAttack",.1);break;case S.isIdle:t.crossFade("mummyIdle",.1);break;case S.isHurt:t.crossFade("mummyHurt",.1);break;case S.isHeal:t.crossFade("mummyHeal",.1);break;case S.isRelive:t.crossFade("mummyRelive",.1);break;case S.isDie:this.isDead=!0,this.node.setScale(-1,1),t.play("mummyDead")}}},t}(h)).prototype,"hp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(f.prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=t(f.prototype,"attackPower",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),A=t(f.prototype,"heroNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/priest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,n,o,a,r,l,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.CCFloat,l=t.Animation,c=t.Component}],execute:function(){var h,p,d,g,u;o._RF.push({},"4f680pTO+9IaaI4HzMGg1Oi","priest",void 0);var k=a.ccclass,f=a.property,m=t("priestState",function(t){return t[t.isWalkingRight=0]="isWalkingRight",t[t.isWalkingLeft=1]="isWalkingLeft",t[t.isIdle=2]="isIdle",t[t.isTalk=3]="isTalk",t}({}));t("priest",(h=k("priest"),p=f({type:r}),h((u=i((g=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,s(i,"speed",u,n(i)),i.priestState=m.isWalkingLeft,i.callback=void 0,i}e(i,t);var o=i.prototype;return o.start=function(){this.callback=function(){this.randomMove=Math.floor(3*Math.random()),0==this.randomMove&&(this.priestState=m.isIdle),1==this.randomMove&&(this.priestState=m.isWalkingLeft),2==this.randomMove&&(this.priestState=m.isWalkingRight)},this.schedule(this.callback,5)},o.update=function(t){switch(this.priestState){case m.isWalkingRight:this.getComponent(l).crossFade("priestWalk"),this.node.setPosition(this.node.getPosition().x+=this.speed*t,this.node.position.y),this.node.setScale(1,1);break;case m.isWalkingLeft:this.getComponent(l).crossFade("priestWalk"),this.node.setPosition(this.node.getPosition().x-=this.speed*t,this.node.position.y),this.node.setScale(-1,1);break;case m.isIdle:this.getComponent(l).crossFade("priestIdle");break;case m.isTalk:this.getComponent(l).crossFade("priestIdle"),this.unschedule(this.callback)}this.node.getPosition().x>=500?this.priestState=m.isWalkingLeft:this.node.getPosition().x<=-300&&(this.priestState=m.isWalkingRight)},i}(c)).prototype,"speed",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=g))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/spell.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,c,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Vec3,a=e.Animation,l=e.Component}],execute:function(){var p,u,h;r._RF.push({},"7f1c3MtsXZMgaPS1rjXOhQb","spell",void 0);var d=s.ccclass,f=s.property;e("spell",d("spell")((h=t((u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"speed",h,o(t)),t.direction=1,t.origin=new c,t}n(t,e);var r=t.prototype;return r.start=function(){this.node.getComponent(a).on(a.EventType.FINISHED,this.onAnimationFINISHED,this)},r.onAnimationFINISHED=function(e,t){"spell"===t.name&&this.node.destroy()},r.init=function(e){this.origin.set(e)},r.update=function(e){this.node.setPosition(this.origin),this.node.getComponent(a).crossFade("spell")},t}(l)).prototype,"speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),p=u))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/START.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,c,u,a,l,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Node,a=t.director,l=t.Input,T=t.Component}],execute:function(){var p,s,h,f,y,d,S;r._RF.push({},"3d0f9WsdzlFSbHXMXMji3dT","START",void 0);var v=c.ccclass,A=c.property;t("START",(p=v("START"),s=A(u),h=A(u),p((d=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,o(e,"playTouch",d,i(e)),o(e,"exitTouch",S,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){a.preloadScene("TAKE0"),this.playTouch.on(l.EventType.TOUCH_START,this.onTouchStartPlay,this),this.exitTouch.on(l.EventType.TOUCH_START,this.onTouchStartExit,this)},r.onTouchStartPlay=function(t){a.loadScene("TAKE0")},r.onTouchStartExit=function(t){window.close()},r.update=function(t){},e}(T)).prototype,"playTouch",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"exitTouch",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialogue.ts"],(function(e){var t,n,i,o,r,l,a,c,s,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,c=e.VideoPlayer,s=e.AudioSource,u=e.director,p=e.Component},function(e){d=e.dialogue}],execute:function(){var h,g,m,f,y,S,D;r._RF.push({},"647b0pEZzJDFK+u71/l0bxU","TAKE0",void 0);var b=l.ccclass,v=l.property;e("TAKE0",(h=b("TAKE0"),g=v(a),m=v(c),h((S=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"DialogNode",S,o(t)),i(t,"intro",D,o(t)),t.dialogScript=void 0,t.changeScene=!1,t.BGM=new s,t}n(t,e);var r=t.prototype;return r.onload=function(){u.preloadScene("TAKE1"),this.BGM=this.node.getComponent(s),this.intro.node.on(c.EventType.PAUSED,this.onVideoCompleted,this),this.dialogScript.init([{name:"旁白",content:"（耳邊傳來新聞斷斷續續聲音）",url:null},{name:"新聞主播",content:"提巴斯肯研究中心近期發現月球逐漸偏離軌道...",url:"Dialog/role/woman/spriteFrame"},{name:"旁白",content:"（悉悉簌簌）（電視沒訊號的聲音）",url:null},{name:"新聞主播",content:"從畫面上可以看到，許多低海拔國家恐遭海水吞沒...",url:"Dialog/role/woman/spriteFrame"},{name:"旁白",content:"（悉悉簌簌...）（電視沒訊號的聲音）（簌------）（電視關閉的聲音）",url:null},{name:"蘇",content:"（緩緩地睜開雙眼，打了哈欠，隨後便刷牙洗臉去了...）",url:"Dialog/role/hero/spriteFrame"}])},r.onVideoCompleted=function(e){console.log("Video completed"),this.BGM.play(),this.DialogNode.active=!0,e.node.destroy()},r.start=function(){this.intro.play(),this.dialogScript=this.DialogNode.getComponent(d)},r.update=function(e){5==this.dialogScript.textIndex&&30==this.dialogScript.textLabel.string.length&&this.BGM.pause(),24!=this.dialogScript.textLabel.string.length||6!=this.dialogScript.textIndex||this.changeScene||(this.changeScene=!0,this.scheduleOnce((function(){u.loadScene("TAKE1")}),3))},t}(p)).prototype,"DialogNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(y.prototype,"intro",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialogue.ts","./conf.ts","./hero.ts"],(function(e){var t,o,i,n,r,a,s,l,c,h,d,u,p,m,g,b,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.AudioClip,c=e.AudioSource,h=e.director,d=e.Animation,u=e.Input,p=e.Vec3,m=e.Component},function(e){g=e.dialogue},function(e){b=e.conf},function(e){f=e.hero,y=e.CharacterState}],execute:function(){var S,N,A,P,v,T,x,D,I,E,F,O,C;r._RF.push({},"f1dbfQL1btJHZ0BZ19kL4ZZ","TAKE1",void 0);var L=a.ccclass,U=a.property;e("TAKE1",(S=L("TAKE1"),N=U(s),A=U(s),P=U(s),v=U(s),T=U({type:l}),S((I=t((D=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"UINode",I,n(t)),i(t,"DialogNode",E,n(t)),i(t,"heroNode",F,n(t)),i(t,"boxNode",O,n(t)),i(t,"boxOpen",C,n(t)),t.heroPos=void 0,t.heroScript=void 0,t.dialogScript=void 0,t.boxPos=void 0,t.distance=void 0,t.boxAnimationPlayed=!1,t.dieAnimationPlayed=!1,t.dailogPlayed=!1,t.BoxOpen=new c,t}o(t,e);var r=t.prototype;return r.start=function(){h.preloadScene("TAKE2"),this.UINode.active=!1,this.heroScript=this.heroNode.getComponent(f),this.dialogScript=this.DialogNode.getComponent(g),this.boxNode.getComponent(d).on(d.EventType.FINISHED,this.onAnimationFINISHED,this),this.boxNode.getComponent(d).on(d.EventType.PLAY,this.onAnimationPLAY,this),this.dialogScript.init([{name:"旁白",content:"（洗漱完後的蘇環顧整個房間）",url:null},{name:"蘇",content:"亂糟糟的房間，看來得整理一下了",url:"Dialog/role/hero/spriteFrame"}])},r.onAnimationPLAY=function(e,t){"open"===t.name&&this.BoxOpen.playOneShot(this.boxOpen)},r.onAnimationFINISHED=function(e,t){"open"===t.name&&(this.boxAnimationPlayed=!0)},r.onTouchStart=function(e){this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchStart,this),this.heroScript.heroState=y.isDie,this.UINode.destroy(),this.scheduleOnce((function(){h.loadScene("TAKE2")}),2)},r.update=function(e){this.DialogNode.active?this.UINode.active=!1:this.UINode.active=!0,this.heroPos=this.heroNode.getPosition(),this.boxPos=this.boxNode.getPosition(),this.distance=p.distance(this.boxPos,this.heroPos),this.distance<=20&&!this.boxAnimationPlayed&&(this.boxNode.getComponent(d).crossFade("open"),this.heroScript.heroState=y.isIdle,this.heroScript.footStep.stop()),this.boxAnimationPlayed&&!this.dailogPlayed&&(this.UINode.active=!1,this.dialogScript.init([{name:"蘇",content:"（餘光瞄到桌下有個布滿灰塵的四方型盒子，便將它搬了出來）",url:"Dialog/role/hero/spriteFrame"},{name:"蘇",content:"（映入眼簾的是一疊四散的信件）",url:"Dialog/role/hero/spriteFrame"},{name:"系統提示",content:"獲得道具「信封」（開起背包查看）",url:"tools/mailer/spriteFrame"}]),b.TOOLS.push({name:"信封",content:"塵封已久的破爛信封（點擊使用）",url:"tools/mailer/spriteFrame"}),this.dailogPlayed=!0),"（蘇戴起了那個未知的吊墜，隨即感到暈頭轉向，並昏了過去）"!==this.dialogScript.textLabel.string||this.dieAnimationPlayed||(this.dieAnimationPlayed=!0,this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchStart,this))},t}(m)).prototype,"UINode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(D.prototype,"DialogNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"heroNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"boxNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(D.prototype,"boxOpen",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=D))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialogue.ts"],(function(e){var t,o,n,i,r,a,l,s,c,p,u,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,s=e.VideoPlayer,c=e.AudioSource,p=e.director,u=e.Input,d=e.Component},function(e){h=e.dialogue}],execute:function(){var g,m,f,T,y,D,S;r._RF.push({},"cb812pGk7hAzrq+ipaZbYen","TAKE2",void 0);var b=a.ccclass,v=a.property;e("TAKE2",(g=b("TAKE2"),m=v(l),f=v(s),g((D=t((y=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"DialogNode",D,i(t)),t.dialogScript=void 0,n(t,"airplane",S,i(t)),t.BGM=new c,t.animationPlayed=!1,t}o(t,e);var r=t.prototype;return r.onload=function(){this.airplane.node.on(s.EventType.PAUSED,this.onVideoCompleted,this)},r.start=function(){p.preloadScene("TAKE3"),this.BGM=this.node.getComponent(c),this.dialogScript=this.DialogNode.getComponent(h),this.dialogScript.init([{name:"蘇",content:"（疑惑）這裡是...？",url:"Dialog/role/hero/spriteFrame"},{name:"未知聲音",content:"終於找到你了",url:"Dialog/role/bossUnknow/spriteFrame"},{name:"蘇",content:"（驚恐）是誰...是誰在講話！",url:"Dialog/role/hero/spriteFrame"},{name:"未知聲音",content:"我花了上千年苦苦追尋的那條吊墜，好不容易從你父母手中找到了它，沒想到殺了他們之後，他們竟然還留有後手，把吊墜藏了起來...",url:"Dialog/role/bossUnknow/spriteFrame"},{name:"蘇",content:"自我有記憶以來，我一直生活在孤兒院，沒想到我的父母是被殺害的，你為什麼要這麼做！（憤怒）",url:"Dialog/role/hero/spriteFrame"},{name:"未知聲音",content:"哈哈哈哈哈，這很重要嗎？末日已經開始，好好享受你最後的時光吧！",url:"Dialog/role/bossUnknow/spriteFrame"},{name:"蘇",content:"末日？你在說什麼！",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（蘇沒得到任何回應...便醒了過來）",url:null},{name:"旁白",content:"（為了弄清真相，蘇便收拾起行李，動身前往樂媞的所在處。）",url:null}])},r.onVideoCompleted=function(e){console.log("Video completed"),p.loadScene("TAKE3")},r.onTouchStart=function(e){this.BGM.stop(),this.airplane.node.active=!0,this.airplane.play(),this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchStart,this)},r.update=function(e){this.DialogNode.active=!0,"（為了弄清真相，蘇便收拾起行李，動身前往樂媞的所在處。）"!==this.dialogScript.textLabel.string||this.animationPlayed||(this.animationPlayed=!0,this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchStart,this))},t}(d)).prototype,"DialogNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(y.prototype,"airplane",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=y))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialogue.ts","./priest.ts","./conf.ts"],(function(e){var t,i,o,r,n,a,l,s,c,u,p,h,m,d,g,T,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,s=e.VideoPlayer,c=e.AudioSource,u=e.director,p=e.Input,h=e.Vec3,m=e.Component},function(e){d=e.dialogue},function(e){g=e.priest,T=e.priestState},function(e){f=e.conf}],execute:function(){var S,y,v,D,b,N,F,P,A,E,C,z,I,U,w;n._RF.push({},"f18bd6OtCBHXqmrz/Izbv2t","TAKE3",void 0);var K=a.ccclass,_=a.property;e("TAKE3",(S=K("TAKE3"),y=_(l),v=_(l),D=_(l),b=_(l),N=_(l),F=_(s),S((E=t((A=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"UINode",E,r(t)),o(t,"DialogNode",C,r(t)),o(t,"heroNode",z,r(t)),o(t,"chatTouch",I,r(t)),o(t,"priestNode",U,r(t)),o(t,"pyramid",w,r(t)),t.BGM=new c,t.heroPos=void 0,t.dialogScript=void 0,t.priestScript=void 0,t.priestPos=void 0,t.distance=void 0,t.animationPlayed=!1,t}i(t,e);var n=t.prototype;return n.onload=function(){this.pyramid.node.on(s.EventType.PAUSED,this.onVideoCompleted,this)},n.start=function(){u.preloadScene("TAKE4"),this.BGM=this.node.getComponent(c),this.chatTouch.on(p.EventType.TOUCH_START,this.onTouchStartChat,this),this.UINode.active=!1,this.priestScript=this.priestNode.getComponent(g),this.dialogScript=this.DialogNode.getComponent(d),this.dialogScript.init([{name:"旁白",content:"（循著信封上的地址，蘇來到了吉薩省的一處小市集）",url:null},{name:"蘇",content:"一來到埃及，這個吊墜就不斷地蠢蠢欲動，像是感應到了什麼，算了...管不了這麼多了",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（蘇看到前方有一位穿著祭司服裝的女性，決定上前詢問樂媞的下落）",url:null}]),localStorage.removeItem("gameStateTAKE4"),localStorage.removeItem("gameStateTAKE5")},n.onTouchStartChat=function(e){this.priestScript.priestState=T.isTalk,this.heroPos.subtract(this.priestPos).x<0?this.priestNode.setScale(-1,1):this.priestNode.setScale(1,1),this.dialogScript.init([{name:"蘇",content:"您好，請問妳認識一位名為樂媞的女生嗎，她也是一名祭司",url:"Dialog/role/hero/spriteFrame"},{name:"樂媞",content:"我就是樂媞，請問找我有什麼事情？",url:"Dialog/role/priest/spriteFrame"},{name:"旁白",content:"（樂媞看見了蘇胸前佩戴的聖甲蟲吊墜，便認出了他）",url:null},{name:"樂媞",content:"你是蘇，對吧！這麼久不見，你都長這麼大了！",url:"Dialog/role/priest/spriteFrame"},{name:"蘇",content:"（雖然想不起對方是誰，但總有種親切熟悉的感覺）",url:"Dialog/role/hero/spriteFrame"},{name:"蘇",content:"對阿，好久不見了哈哈哈（敷衍），我來這裡是為了...",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（蘇向樂媞講述了戴起吊墜後所發生的事）",url:null},{name:"樂媞",content:"成為祭司後，我研究了許多關於這條吊墜的線索，並從中拼湊出一則訊息。",url:"Dialog/role/priest/spriteFrame"},{name:"蘇",content:"什麼訊息？",url:"Dialog/role/hero/spriteFrame"},{name:"樂媞",content:"「相傳有位身上流淌著神之血的人類，將在末日之時，驅動吊墜的力量，成為救世主」",url:"Dialog/role/priest/spriteFrame"},{name:"樂媞",content:"而你能夠與吊墜產生感應，想必你就是那個人沒錯了",url:"Dialog/role/priest/spriteFrame"},{name:"蘇",content:"流淌著神之血的人類...我嗎？太突然了吧？那我現在該怎麼辦？",url:"Dialog/role/hero/spriteFrame"},{name:"樂媞",content:"我知道的就這麼多了，你必須前往金字塔找尋更多線索，並且在那完成你的使命，這些東西能夠引導你找到答案",url:"Dialog/role/priest/spriteFrame"},{name:"旁白",content:"（樂媞交給蘇一個荷魯斯之戒和卷軸）",url:null},{name:"系統提示",content:"獲得道具「荷魯斯之戒」",url:"tools/ring/spriteFrame"},{name:"系統提示",content:"獲得道具「卷軸」",url:"tools/reel/spriteFrame"},{name:"蘇",content:"如果我做不到，世界會因我而毀滅嗎...？",url:"Dialog/role/hero/spriteFrame"},{name:"樂媞",content:"還記得小時候我常被其他小朋友欺負，你即使雙腳都在顫抖，卻還是奮不顧身的保護我，我相信這樣的你，一定可以做到的！",url:"Dialog/role/priest/spriteFrame"}]),f.TOOLS.push({name:"荷魯斯之戒",content:"佩戴者能夠獲得荷魯斯的視野，並透過戒指看到真相和隱藏的事物（點擊使用）",url:"tools/ring/spriteFrame"},{name:"卷軸",content:"據說這張卷軸是由一個古埃及祭司所製作，目的是保護金字塔中的秘密（點擊使用）",url:"tools/reel/spriteFrame"}),this.chatTouch.destroy()},n.onVideoCompleted=function(e){console.log("Video completed"),u.loadScene("TAKE4")},n.onTouchStart=function(e){this.BGM.stop(),this.pyramid.node.active=!0,this.pyramid.play(),this.DialogNode.off(p.EventType.TOUCH_START,this.onTouchStart,this)},n.update=function(e){this.chatTouch.active=!1,this.DialogNode.active?this.UINode.active=!1:this.UINode.active=!0,this.heroPos=this.heroNode.getPosition(),this.priestPos=this.priestNode.getPosition(),this.distance=h.distance(this.priestPos,this.heroPos),this.distance<=170&&(this.chatTouch.active=!0),"話音剛落，聖甲蟲吊墜彷彿聽到了蘇的心聲，展開翅膀朝著某個方向飛去，蘇也跟了上去"!=this.dialogScript.textLabel.string||this.animationPlayed||(this.animationPlayed=!0,this.DialogNode.on(p.EventType.TOUCH_START,this.onTouchStart,this))},t}(m)).prototype,"UINode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(A.prototype,"DialogNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(A.prototype,"heroNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(A.prototype,"chatTouch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(A.prototype,"priestNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(A.prototype,"pyramid",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=A))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bandit.ts","./dialogue.ts","./conf.ts","./hero.ts"],(function(t){var i,e,o,r,n,a,s,h,c,d,l,p,u,g,S,b,T,m,f,P,v,N;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,h=t.AudioSource,c=t.director,d=t.Input,l=t.Vec3,p=t.tween,u=t.Sprite,g=t.Color,S=t.Component},function(t){b=t.bandit,T=t.State},function(t){m=t.dialogue},function(t){f=t.conf},function(t){P=t.hero,v=t.CharacterMode,N=t.CharacterState}],execute:function(){var D,y,w,O,C,A,B,H,F,G,I,L,M,k,E,z,R,U,K;n._RF.push({},"c6cca9LMjdMOratoucHb+hW","TAKE4",void 0);var W=a.ccclass,_=a.property;t("TAKE4",(D=W("TAKE4"),y=_(s),w=_(s),O=_(s),C=_(s),A=_(s),B=_(s),H=_(s),F=_(s),D((L=i((I=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,o(i,"banditNode",L,r(i)),o(i,"heroNode",M,r(i)),o(i,"UINode",k,r(i)),o(i,"DialogNode",E,r(i)),o(i,"triggerNode",z,r(i)),o(i,"tpNode",R,r(i)),o(i,"crate",U,r(i)),o(i,"WhiteOverlay",K,r(i)),i.BGM=new h,i.banditScript=void 0,i.heroScript=void 0,i.dialogScript=void 0,i.heroPos=void 0,i.banditPos=void 0,i.triggerPos=void 0,i.distance=void 0,i.triggerDistance=void 0,i.crateDistance=void 0,i.cratePos=void 0,i.tpPos=void 0,i.tpDistance=void 0,i.isFirstLoad=!1,i.isHeroDead=!1,i.isTp=!1,i.isBanditDead=!1,i.isGetBow=!1,i.onTrigger=!1,i.onBanditTrigger=!1,i.onAttack=!1,i.onCarteTrigger=!1,i}e(i,t);var n=i.prototype;return n.start=function(){c.preloadScene("TAKE5"),this.BGM=this.node.getComponent(h),this.BGM.play(),this.UINode.active=!1,this.banditScript=this.banditNode.getComponent(b),this.heroScript=this.heroNode.getComponent(P),this.dialogScript=this.DialogNode.getComponent(m),this.heroScript.heroMode=v.punch,this.loadGameState(),this.isFirstLoad||(this.dialogScript.init([{name:"旁白",content:"（在聖甲蟲的帶領下，蘇進入了一座神秘的金字塔）",url:null}]),this.isFirstLoad=!0)},n.onTouchStart=function(t){this.onCarteTrigger=!0,this.dialogScript.init([{name:"系統提示",content:"獲得道具「月輪」（開起背包查看）",url:"tools/hat/spriteFrame"}]),f.TOOLS.push({name:"月輪",content:"傳說中的古代神器之一，由古代祭司在月光最盛的夜晚打造",url:"tools/hat/spriteFrame"}),this.crate.off(d.EventType.TOUCH_START,this.onTouchStart,this)},n.onTouchRelive=function(t){this.dialogScript.init([{name:"蘇",content:"剛剛發生了什麼？",url:"Dialog/role/hero/spriteFrame"}]),this.setInitialGameState(),this.DialogNode.off(d.EventType.TOUCH_START,this.onTouchRelive,this)},n.update=function(t){var i=this;this.DialogNode.active?this.UINode.active=!1:this.UINode.active=!0,this.heroPos=this.heroNode.getPosition(),this.banditPos=this.banditNode.getPosition(),this.distance=l.distance(this.banditPos,this.heroPos),this.triggerPos=this.triggerNode.getPosition(),this.triggerDistance=l.distance(this.triggerPos,this.heroPos),this.cratePos=this.crate.getPosition(),this.crateDistance=l.distance(this.cratePos,this.heroPos),this.tpPos=this.tpNode.getPosition(),this.tpDistance=l.distance(this.tpPos,this.heroPos),this.crateDistance<=150&&!this.onCarteTrigger&&this.crate.on(d.EventType.TOUCH_START,this.onTouchStart,this),this.triggerDistance<=100&&!this.onTrigger&&(this.onTrigger=!0,this.dialogScript.init([{name:"旁白",content:"（墓道中刻畫著密密麻麻的古老文字，似乎在訴說些什麼）",url:null},{name:"蘇",content:"牆上盡是些看不懂的文字...",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（就在這時，蘇手上的戒指開始不安分的震動著）",url:null}])),this.distance<=600&&!this.onBanditTrigger&&(this.onBanditTrigger=!0,this.dialogScript.init([{name:"旁白",content:"（在四處尋找線索時，蘇看見墓道的盡頭疑似有個人影）",url:null},{name:"蘇",content:"你是誰？",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（受到驚嚇的盜墓者，轉過身來，護著他身後的寶箱）",url:null},{name:"盜墓者",content:"你也是來奪取這裡的財寶嗎？",url:"Dialog/role/bandit/spriteFrame"},{name:"盜墓者",content:"不重要，既然都被你看到了，那就乖乖受死吧！！",url:"Dialog/role/bandit/spriteFrame"},{name:"旁白",content:"（盜墓者向蘇發起攻擊）",url:null}])),"（受到驚嚇的盜墓者，轉過身來"===this.dialogScript.textLabel.string&&this.banditNode.setScale(1,1),"蘇瀕臨死亡，此時聖甲蟲吊墜發出了劇烈的光芒，時空似乎發生了扭曲"===this.dialogScript.textLabel.string&&this.DialogNode.on(d.EventType.TOUCH_START,this.onTouchRelive,this),"（盜墓者向蘇發起攻擊）"!==this.dialogScript.textLabel.string||this.onAttack||(this.banditScript.banditState=T.isWalkingLeft,this.BGM.pause(),this.banditNode.getComponent(h).play(),this.scheduleOnce((function(){i.onAttack=!0}),.5)),this.heroScript.heroState===N.isAttacking&&this.heroScript.heroMode!=v.bow&&this.distance<=150&&!this.isBanditDead&&this.scheduleOnce((function(){i.banditScript.banditTakeDamage(i.heroScript.attackPower),i.banditScript.banditState=T.isHurt}),.2),this.heroScript.getArrowPosition()&&!this.isBanditDead&&this.heroScript.getArrowPosition().subtract(this.banditNode.getPosition()).length()<=120&&(this.banditScript.banditTakeDamage(this.heroScript.attackPower),this.banditScript.banditState=T.isHurt,this.heroScript.arrow.destroy()),this.banditScript.banditState!==T.isAttacking||this.isHeroDead||this.scheduleOnce((function(){i.distance<=160&&(i.heroScript.heroTakeDamage(i.banditScript.attackPower),i.heroScript.heroState=N.isHurt)}),.4),(this.heroScript.hp<0||0===this.heroScript.hp)&&!this.isHeroDead&&(this.heroScript.heroState=N.isDie,this.isHeroDead=!0,this.scheduleOnce((function(){i.dialogScript.init([{name:"旁白",content:"蘇瀕臨死亡，此時聖甲蟲吊墜發出了劇烈的光芒，時空似乎發生了扭曲",url:null}])}),1),this.fadeToWhite()),this.banditScript.hp<=0&&!this.isBanditDead&&(this.banditNode.getComponent(h).stop(),this.banditScript.banditState=T.isDie,this.isBanditDead=!0,this.isGetBow||(this.scheduleOnce((function(){i.dialogScript.init([{name:"系統提示",content:"獲得道具「劫墓之刃」",url:"tools/sword/spriteFrame"}]),f.TOOLS.push({name:"劫墓之刃",content:"這把古老的劍曾經屬於一位狡猾的盜墓者，劍身上佈滿了歲月的痕跡和戰鬥的傷痕（點擊使用）",url:"tools/sword/spriteFrame"})}),1),this.isGetBow=!0)),this.tpDistance<=150&&!this.isTp&&(this.isTp=!0,this.saveGameState(),c.loadScene("TAKE5"))},n.fadeToWhite=function(){p(this.WhiteOverlay.getComponent(u)).to(4,{color:new g(255,255,255,255)},{easing:"cubicInOut"}).start()},n.fadeToOpacity=function(){p(this.WhiteOverlay.getComponent(u)).to(2,{color:new g(255,255,255,0)},{easing:"cubicInOut"}).start()},n.saveGameState=function(){var t={heroPosition:this.heroNode.getPosition(),heroMode:this.heroScript.heroMode,heroState:this.heroScript.heroState,heroHp:this.heroScript.hp,banditPosition:this.banditNode.getPosition(),banditState:this.banditScript.banditState,banditHp:this.banditScript.hp,isFirstLoad:this.isFirstLoad,onCarteTrigger:this.onCarteTrigger,isGetBow:this.isGetBow};localStorage.setItem("gameStateTAKE4",JSON.stringify(t))},n.loadGameState=function(){var t=localStorage.getItem("gameStateTAKE4");if(t){var i=JSON.parse(t);this.heroNode.setPosition(i.heroPosition.x-=100,i.heroPosition.y),this.heroNode.setScale(-1,1),this.heroScript.heroMode=i.heroMode,this.heroScript.heroState=N.isIdle,this.heroScript.hp=i.heroHp,this.banditNode.setPosition(i.banditPosition),this.banditScript.banditState=i.banditState,this.banditScript.hp=i.banditHp,this.onBanditTrigger=!0,this.onTrigger=!0,this.isFirstLoad=i.isFirstLoad,this.onCarteTrigger=i.onCarteTrigger,this.isGetBow=i.isGetBow}else this.setInitialGameState()},n.setInitialGameState=function(){this.isHeroDead=!1,this.heroScript.isHurt=!1,this.heroNode.setPosition(-1800,-70),this.heroNode.setScale(1,1),this.heroScript.heroMode=v.punch,this.heroScript.heroState=N.isIdle,this.heroScript.hp=20,this.banditNode.setPosition(1300,150),this.banditScript.banditState=T.isIdle,this.banditScript.hp=20,this.fadeToOpacity()},i}(S)).prototype,"banditNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(I.prototype,"heroNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(I.prototype,"UINode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(I.prototype,"DialogNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(I.prototype,"triggerNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(I.prototype,"tpNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(I.prototype,"crate",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(I.prototype,"WhiteOverlay",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=I))||G));n._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mummy.ts","./dialogue.ts","./conf.ts","./hero.ts"],(function(t){var e,i,o,s,n,r,h,a,c,l,u,m,p,d,g,T,S,f,y,C,v,k,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,h=t.Node,a=t.VideoPlayer,c=t.AudioSource,l=t.director,u=t.Input,m=t.Vec3,p=t.tween,d=t.Sprite,g=t.Color,T=t.Component},function(t){S=t.mummy,f=t.State},function(t){y=t.dialogue},function(t){C=t.conf},function(t){v=t.hero,k=t.CharacterState,D=t.CharacterMode}],execute:function(){var N,b,P,O,A,H,E,F,R,G,w,L,U,_,I,M,z,B,K,x,W,V,J;n._RF.push({},"5bccanXeBZGlL5Bd2+5MGZa","TAKE5",void 0);var Z=r.ccclass,j=r.property;t("TAKE5",(N=Z("TAKE5"),b=j(h),P=j(h),O=j(h),A=j(h),H=j(h),E=j(h),F=j(h),R=j(h),G=j(h),w=j(a),N((_=e((U=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"mummyNode",_,s(e)),o(e,"heroNode",I,s(e)),o(e,"UINode",M,s(e)),o(e,"DialogNode",z,s(e)),o(e,"triggerNode",B,s(e)),o(e,"tpNode",K,s(e)),o(e,"crate",x,s(e)),o(e,"check",W,s(e)),o(e,"WhiteOverlay",V,s(e)),o(e,"moon",J,s(e)),e.BGM=new c,e.mummyScript=void 0,e.heroScript=void 0,e.dialogScript=void 0,e.heroPos=void 0,e.mummyPos=void 0,e.triggerPos=void 0,e.distance=void 0,e.triggerDistance=void 0,e.crateDistance=void 0,e.cratePos=void 0,e.tpPos=void 0,e.tpDistance=void 0,e.checkPos=void 0,e.checkDistance=void 0,e.isHeroDead=!1,e.ismummyDead=!1,e.isTp=!1,e.onTrigger=!1,e.onCarteTrigger=!1,e.isFirstLoad=!1,e.isGetCross=!1,e.onAttack=!1,e.onCheck=!1,e.firstCheck=!0,e.isTpToTake6=!1,e.onCheckCallback=void 0,e}i(e,t);var n=e.prototype;return n.onload=function(){this.moon.node.on(a.EventType.PAUSED,this.onVideoCompleted,this)},n.start=function(){l.preloadScene("TAKE6"),this.BGM=this.node.getComponent(c),this.BGM.play(),this.UINode.active=!1,this.mummyScript=this.mummyNode.getComponent(S),this.heroScript=this.heroNode.getComponent(v),this.dialogScript=this.DialogNode.getComponent(y),this.loadGameState(),this.isFirstLoad||(this.isFirstLoad=!0,this.dialogScript.init([{name:"旁白",content:"（蘇進到了一個更狹窄的墓道）",url:null},{name:"旁白",content:"本該漆黑無比的地方，幾盞燈火把散落一地的黃金照的熠熠生輝",url:null},{name:"蘇",content:"難道...這些是法老王的陪葬品？",url:"Dialog/role/hero/spriteFrame"}])),this.onCheckCallback=function(){this.onCheck=!1}},n.onVideoCompleted=function(t){console.log("Video completed"),l.loadScene("TAKE6")},n.onTouchStart=function(t){this.onCarteTrigger=!0,this.dialogScript.init([{name:"旁白",content:"（蘇忍不住觸碰了其中一個雕飾）",url:null},{name:"系統提示",content:"獲得道具「生命之符」",url:"tools/cross/spriteFrame"},{name:"旁白",content:"（突然間石棺開始震動，一股不祥之息壟罩整個墓室）",url:null}]),this.crate.off(u.EventType.TOUCH_START,this.onTouchStart,this),C.TOOLS.push({name:"生命之符",content:"法老王的陪葬品之一，相傳它有著使人起死回生的力量",url:"tools/cross/spriteFrame"})},n.onTouchRelive=function(t){this.mummyNode.active=!0,this.heroNode.setPosition(-570,29),this.mummyScript.mummyState=f.isRelive,this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchRelive,this),this.dialogScript.init([{name:"旁白",content:"（受到驚嚇的蘇馬上往後退了一步）",url:null},{name:"旁白",content:"（甦醒過來的木乃伊勃然大怒）",url:null},{name:"木乃伊",content:"好大的膽子，竟然敢打擾朕長眠",url:"Dialog/role/mummy/spriteFrame"},{name:"木乃伊",content:"你的靈魂將永遠被困在這古墓之中，成為我的僕從，永無安寧！",url:"Dialog/role/mummy/spriteFrame"}])},n.onTouchAttack=function(t){this.BGM.stop(),this.mummyNode.getComponent(c).play(),this.schedule(this.mummyScript.callback,.006),this.isTp=!0,this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchAttack,this)},n.onTouchHeroRelive=function(t){this.dialogScript.init([{name:"蘇",content:"剛剛發生了什麼？",url:"Dialog/role/hero/spriteFrame"}]),this.setInitialGameState(),this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchHeroRelive,this)},n.onTouchBack=function(t){this.heroNode.setPosition(1200,-257),this.heroNode.setScale(-1,1),this.onCheck=!1,this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchBack,this)},n.onTouchTpToTake6=function(t){this.moon.node.active=!0,this.BGM.stop(),this.moon.play(),this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchTpToTake6,this)},n.onTouchCheck=function(t){this.hasTool("生命之符")&&this.hasTool("月輪")?this.dialogScript.init([{name:"旁白",content:"（蘇將收集來的月輪及生命之符放入後，神像開始劇烈的晃動，通往月球的阿努比斯之門緩緩開起）",url:null}]):this.hasTool("生命之符")?this.dialogScript.init([{name:"旁白",content:"（蘇將收集來的生命之符放入後，卻還是缺了一樣）",url:null},{name:"蘇",content:"似乎還有物品沒找到...再回去找找看好了",url:"Dialog/role/hero/spriteFrame"}]):this.hasTool("月輪")?this.dialogScript.init([{name:"旁白",content:"（蘇將收集來的月輪放入後，卻還是缺了一樣）",url:null},{name:"蘇",content:"似乎還有物品沒找到...再回去找找看好了",url:"Dialog/role/hero/spriteFrame"}]):this.dialogScript.init([{name:"旁白",content:"（蘇觸摸了神像，但什麼事情都沒發生）",url:null},{name:"蘇",content:"似乎還有物品沒找到...再回去找找看好了",url:"Dialog/role/hero/spriteFrame"}]),this.scheduleOnce(this.onCheckCallback,30),this.DialogNode.off(u.EventType.TOUCH_START,this.onTouchCheck,this)},n.update=function(t){var e=this;this.DialogNode.active?this.UINode.active=!1:this.UINode.active=!0,this.heroPos=this.heroNode.getPosition(),this.mummyPos=this.mummyNode.getPosition(),this.distance=m.distance(this.mummyPos,this.heroPos),this.triggerPos=this.triggerNode.getPosition(),this.triggerDistance=m.distance(this.triggerPos,this.heroPos),this.cratePos=this.crate.getPosition(),this.crateDistance=m.distance(this.cratePos,this.heroPos),this.tpPos=this.tpNode.getPosition(),this.tpDistance=m.distance(this.tpPos,this.heroPos),this.checkPos=this.check.getPosition(),this.checkDistance=m.distance(this.checkPos,this.heroPos),this.checkDistance<=61&&!this.onCheck&&(this.onCheck=!0,this.firstCheck?(this.dialogScript.init([{name:"旁白",content:"（蘇來到神秘的地下室後，看到了一尊古老的神像）",url:null},{name:"蘇",content:"這個神像的雙手各有一個缺口，彷彿曾經握著什麼東西",url:"Dialog/role/hero/spriteFrame"}]),this.firstCheck=!1):this.dialogScript.init([{name:"蘇",content:"又回到這裡了",url:"Dialog/role/hero/spriteFrame"}])),this.crateDistance<=150&&!this.onCarteTrigger&&this.crate.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.triggerDistance<=50&&!this.onTrigger&&(this.onTrigger=!0,this.dialogScript.init([{name:"旁白",content:"（蘇來到墓室，看見了一個石棺）",url:null},{name:"旁白",content:"（石棺異常的厚重，並且上面刻有大量精美的雕飾）",url:null}])),"這個神像的雙手各有一個缺口，彷彿曾經握著什麼東西"!=this.dialogScript.textLabel.string&&"又回到這裡了"!=this.dialogScript.textLabel.string||this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchCheck,this),"（突然間石棺開始震動，一股不祥之息壟罩整個墓室）"==this.dialogScript.textLabel.string&&this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchRelive,this),"你的靈魂將永遠被困在這古墓之中，成為我的僕從，永無安寧！"!=this.dialogScript.textLabel.string||this.onAttack||(this.onAttack=!0,this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchAttack,this)),this.heroScript.heroState==k.isAttacking&&this.distance<=150&&!this.ismummyDead&&this.scheduleOnce((function(){this.mummyScript.mummyTakeDamage(this.heroScript.attackPower),this.mummyScript.mummyState=f.isHurt}),.2),this.mummyScript.mummyState!=f.isAttacking||this.isHeroDead||this.scheduleOnce((function(){this.distance<=150&&(this.heroScript.heroTakeDamage(this.mummyScript.attackPower),this.heroScript.heroState=k.isHurt)}),.2),(this.heroScript.hp<0||0==this.heroScript.hp)&&!this.isHeroDead&&(this.heroScript.heroState=k.isDie,this.isHeroDead=!0,this.scheduleOnce((function(){e.dialogScript.init([{name:"旁白",content:"蘇瀕臨死亡，此時聖甲蟲吊墜發出了劇烈的光芒，時空似乎發生了扭曲",url:null}])}),1),this.fadeToWhite()),"蘇瀕臨死亡，此時聖甲蟲吊墜發出了劇烈的光芒，時空似乎發生了扭曲"===this.dialogScript.textLabel.string&&this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchHeroRelive,this),"（蘇將收集來的月輪及生命之符放入後，神像開始劇烈的晃動，通往月球的阿努比斯之門緩緩開起）"!==this.dialogScript.textLabel.string||this.isTpToTake6||(this.isTpToTake6=!0,this.DialogNode.on(u.EventType.TOUCH_START,this.onTouchTpToTake6,this)),this.mummyScript.hp<=0&&!this.ismummyDead&&(this.mummyScript.mummyState=f.isDie,this.mummyNode.getComponent(c).stop(),this.ismummyDead=!0,this.unschedule(this.mummyScript.callback),this.isGetCross||(this.scheduleOnce((function(){this.dialogScript.init([{name:"系統提示",content:"獲得道具「三角弓」",url:"tools/bow/spriteFrame"}]),C.TOOLS.push({name:"三角弓",content:"古代法老的專屬武器，他曾用這把弓征戰四方（點擊使用）",url:"tools/bow/spriteFrame"})}),1),this.isGetCross=!0),this.isTp=!1),this.tpDistance<=80&&!this.isTp&&(this.isTp=!0,this.saveGameState(),l.loadScene("TAKE4"))},n.fadeToWhite=function(){p(this.WhiteOverlay.getComponent(d)).to(4,{color:new g(255,255,255,255)},{easing:"cubicInOut"}).start()},n.fadeToOpacity=function(){p(this.WhiteOverlay.getComponent(d)).to(2,{color:new g(255,255,255,0)},{easing:"cubicInOut"}).start()},n.saveGameState=function(){var t={heroPosition:this.heroNode.getPosition(),heroMode:this.heroScript.heroMode,heroState:this.heroScript.heroState,heroHp:this.heroScript.hp,isFirstLoad:this.isFirstLoad,onCarteTrigger:this.onCarteTrigger,onTrigger:this.onTrigger,isGetCross:this.isGetCross,firstCheck:this.firstCheck};localStorage.setItem("gameStateTAKE5",JSON.stringify(t))},n.loadGameState=function(){var t=localStorage.getItem("gameStateTAKE5");if(t){var e=JSON.parse(t);this.heroNode.setPosition(e.heroPosition.x+=100,e.heroPosition.y),this.heroNode.setScale(1,1),this.heroScript.heroMode=e.heroMode,this.heroScript.heroState=k.isIdle,this.heroScript.hp=e.heroHp,this.onTrigger=e.onTrigger,this.isFirstLoad=e.isFirstLoad,this.onCarteTrigger=e.onCarteTrigger,this.isGetCross=e.isGetCross,this.firstCheck=e.firstCheck}else this.setInitialGameState()},n.setInitialGameState=function(){this.isHeroDead=!1,this.heroScript.isHurt=!1,this.heroNode.setPosition(-1320,40),this.heroNode.setScale(1,1),this.heroScript.heroMode=D.punch,this.heroScript.heroState=k.isIdle,this.heroScript.hp=20,this.mummyScript.hp=40,this.fadeToOpacity()},n.hasTool=function(t){return C.TOOLS.some((function(e){return e.name===t}))},e}(T)).prototype,"mummyNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(U.prototype,"heroNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(U.prototype,"UINode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(U.prototype,"DialogNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(U.prototype,"triggerNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(U.prototype,"tpNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(U.prototype,"crate",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(U.prototype,"check",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(U.prototype,"WhiteOverlay",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(U.prototype,"moon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));n._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./boss.ts","./dialogue.ts","./hero.ts","./cameraCtrl.ts"],(function(t){var e,i,o,s,r,n,a,h,l,c,p,d,u,g,b,m,S,T,D,f,y,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,a=t.Node,h=t.VideoPlayer,l=t.AudioSource,c=t.director,p=t.Input,d=t.Vec3,u=t.v2,g=t.Component},function(t){b=t.boss,m=t.Mode,S=t.State},function(t){T=t.dialogue},function(t){D=t.hero,f=t.CharacterMode,y=t.CharacterState},function(t){E=t.CameraCtrl}],execute:function(){var v,N,P,A,C,H,w,B,F,k,M,R,U,O,_,z,I,G,V;r._RF.push({},"cb179R7B61I7LBbt7wm3bI6","TAKE6",void 0);var L=n.ccclass,K=n.property;t("TAKE6",(v=L("TAKE6"),N=K(a),P=K(a),A=K(a),C=K(a),H=K(a),w=K(a),B=K(h),F=K(h),v((R=e((M=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,o(e,"bossNode",R,s(e)),o(e,"heroNode",U,s(e)),o(e,"UINode",O,s(e)),o(e,"DialogNode",_,s(e)),o(e,"triggerNode",z,s(e)),o(e,"cameraNode",I,s(e)),o(e,"badEnding",G,s(e)),o(e,"happyEnding",V,s(e)),e.BGM=new l,e.bossScript=void 0,e.heroScript=void 0,e.dialogScript=void 0,e.heroPos=void 0,e.bossPos=void 0,e.triggerPos=void 0,e.distance=void 0,e.triggerDistance=void 0,e.isHeroDead=!1,e.isbossDead=!1,e.onTrigger=!1,e.onAttack=!1,e.onRelive=!1,e.isBgmStop=!1,e.onHEplayed=!1,e.onBEplayed=!1,e}i(e,t);var r=e.prototype;return r.onload=function(){this.badEnding.node.on(h.EventType.PAUSED,this.onVideoCompletedBE,this),this.happyEnding.node.on(h.EventType.PAUSED,this.onVideoCompletedHE,this)},r.onVideoCompletedBE=function(t){console.log("Video completed")},r.onVideoCompletedHE=function(t){console.log("Video completed"),c.loadScene("TAKE7")},r.start=function(){c.preloadScene("TAKE7"),this.BGM=this.node.getComponent(l),this.BGM.play(),this.UINode.active=!1,this.bossScript=this.bossNode.getComponent(b),this.heroScript=this.heroNode.getComponent(D),this.dialogScript=this.DialogNode.getComponent(T),this.heroScript.heroMode=f.punch,this.dialogScript.init([{name:"旁白",content:"（蘇走進門後，來到了一個杳無人煙的灰色平原）",url:null},{name:"蘇",content:"我來到月球了嗎？！呼吸不到空氣了...",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（此時聖甲蟲吊墜綻放了最後的光芒，為蘇的肺部提供了新鮮的氧氣）",url:null},{name:"蘇",content:"吊墜變的黯淡無光...難道它耗盡力量了嗎",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（蘇回憶起這段旅程，每當他遇到危險時，聖甲蟲吊墜就會發動力量保護他）",url:null},{name:"蘇",content:"原來是我的祖先一直在守護著我...看來我必須這裡了結我的宿命",url:"Dialog/role/hero/spriteFrame"}])},r.onTouchAttack=function(t){this.schedule(this.bossScript.callback,.006),this.DialogNode.off(p.EventType.TOUCH_START,this.onTouchAttack,this)},r.onTouchTrigger=function(t){this.triggerNode.getComponent(l).stop(),this.BGM.play(),this.DialogNode.off(p.EventType.TOUCH_START,this.onTouchTrigger,this)},r.onTouchPlayHE=function(t){this.BGM.stop(),this.happyEnding.node.active=!0,this.happyEnding.play(),this.DialogNode.off(p.EventType.TOUCH_START,this.onTouchPlayHE,this)},r.onTouchPlayBE=function(t){this.bossNode.getComponent(l).stop(),this.badEnding.node.active=!0,this.badEnding.play(),this.DialogNode.off(p.EventType.TOUCH_START,this.onTouchPlayBE,this)},r.update=function(t){var e=this;if(this.bossScript.bossMode=m.slash,this.DialogNode.active?this.UINode.active=!1:this.UINode.active=!0,this.heroPos=this.heroNode.getPosition(),this.bossPos=this.bossNode.getPosition(),this.distance=d.distance(this.bossPos,this.heroPos),this.triggerPos=this.triggerNode.getPosition(),this.triggerDistance=d.distance(this.triggerPos,this.heroPos),this.distance<=300&&!this.onRelive&&(this.onRelive=!0,this.BGM.stop(),this.bossNode.active=!0,this.bossScript.bossState=S.isRelive,this.cameraNode.getComponent(E).followOffset=u(100,100),this.dialogScript.init([{name:"孔蘇",content:"看來我應該在更謹慎點的...歡迎你，預言之子",url:"Dialog/role/boss/spriteFrame"},{name:"孔蘇",content:"我的子嗣啊，難道你妄想著能成為拯救世界的英雄嗎",url:"Dialog/role/boss/spriteFrame"},{name:"蘇",content:"我只是想平凡的活下去而已...如果我身上的血脈...如果只有我能阻止末日，那我就必須打敗你！！",url:"Dialog/role/hero/spriteFrame"},{name:"孔蘇",content:"就憑你？我可是能呼風喚雨的存在！乖乖等待末日的到來吧",url:"Dialog/role/boss/spriteFrame"},{name:"蘇",content:"你為什麼要這麼做？難道擁有強大的力量，就能隨意操弄別人的生命嗎",url:"Dialog/role/hero/spriteFrame"},{name:"孔蘇",content:"住口，現在的我對人類只有無盡的恨意",url:"Dialog/role/boss/spriteFrame"},{name:"蘇",content:"那為什麼這麼多年來你都沒有對人類出手，其實你還是愛著人類的對吧？",url:"Dialog/role/hero/spriteFrame"},{name:"孔蘇",content:"愛著人類？哈哈哈哈哈哈，在我恢復力量的期間，我一直觀察著吊墜的情形",url:"Dialog/role/boss/spriteFrame"},{name:"孔蘇",content:'為了防止預言中"失落的後裔"干擾我的滅世計畫，我找到了你的父母想奪回吊墜，雖然最終它還是落到了你手上，但一切都太遲了！',url:"Dialog/role/boss/spriteFrame"},{name:"蘇",content:"謝謝你拯救了我的祖先，讓我有機會誕生在這世上，但我會在這裡打敗你，貫徹我的使命",url:"Dialog/role/hero/spriteFrame"},{name:"孔蘇",content:"好一個賺人熱淚的戲碼，沒想到你寧願冒著生命危險，突破層層關卡來找我，也不願意把剩下的時間和你唯一的家人度過",url:"Dialog/role/boss/spriteFrame"},{name:"蘇",content:"家人...？你到底在說什麼？",url:"Dialog/role/hero/spriteFrame"},{name:"孔蘇",content:"哈哈，你不記得了嗎？蘇．艾利特",url:"Dialog/role/boss/spriteFrame"},{name:"蘇",content:"蘇．艾利特？這是我的本名嗎？？難道樂媞是我的親人？",url:"Dialog/role/hero/spriteFrame"},{name:"旁白",content:"（蘇頭痛欲裂，想起了關於樂媞的所有回憶）",url:null},{name:"蘇",content:"孔蘇，我一定要在這裡打敗你！！！",url:"Dialog/role/hero/spriteFrame"}])),this.triggerDistance<=50&&!this.onTrigger&&(this.onTrigger=!0,this.BGM.stop(),this.triggerNode.getComponent(l).play(),this.dialogScript.init([{name:"旁白",content:"（蘇來到一處衛星接收站，並嘗試接收來自地球的訊號）",url:null},{name:"新聞主播",content:"這邊為您插播即時消息。目前月球正在快速往地球方向接近，全球海平面劇烈上升中，請民眾做好避難準備！",url:"Dialog/role/woman/spriteFrame"},{name:"蘇",content:"留給我的時間不多了，我必須馬上阻止孔蘇",url:"Dialog/role/hero/spriteFrame"}])),"留給我的時間不多了，我必須馬上阻止孔蘇"!=this.dialogScript.textLabel.string||this.isBgmStop||(this.isBgmStop=!0,this.DialogNode.on(p.EventType.TOUCH_START,this.onTouchTrigger,this)),"孔蘇，我一定要在這裡打敗你！！！"!=this.dialogScript.textLabel.string||this.onAttack||(this.onAttack=!0,this.DialogNode.on(p.EventType.TOUCH_START,this.onTouchAttack,this)),"（希望之光再次照耀大地，地球得以回歸平靜）"!=this.dialogScript.textLabel.string||this.onHEplayed||(this.onHEplayed=!0,this.DialogNode.on(p.EventType.TOUCH_START,this.onTouchPlayHE,this)),"（蘇未能成功阻止末日的到來，月球徑直地往地球墜落）"!=this.dialogScript.textLabel.string||this.onBEplayed||(this.onBEplayed=!0,this.DialogNode.on(p.EventType.TOUCH_START,this.onTouchPlayBE,this)),this.heroScript.heroMode==f.bow?this.bossScript.bossMode=m.cast:this.bossScript.bossMode=m.slash,this.bossScript.bossMode!=m.slash||this.bossScript.bossState!=S.isAttacking||this.isHeroDead||this.scheduleOnce((function(){this.distance<=205&&(this.heroScript.heroTakeDamage(this.bossScript.attackPower),this.heroScript.heroState=y.isHurt)}),.25),this.bossScript.bossMode==m.cast&&this.bossScript.bossState==S.isAttacking&&!this.isHeroDead){var i=this.distance;this.scheduleOnce((function(){this.distance<=i+50&&this.distance>=i-50&&(this.heroScript.heroTakeDamage(this.bossScript.attackPower),this.heroScript.heroState=y.isHurt)}),.6)}(this.heroScript.hp<0||0==this.heroScript.hp)&&!this.isHeroDead&&(this.heroScript.heroState=y.isDie,this.isHeroDead=!0,this.unschedule(this.bossScript.callback),this.scheduleOnce((function(){e.dialogScript.init([{name:"旁白",content:"（蘇未能成功阻止末日的到來，月球徑直地往地球墜落）",url:null}])}),1)),this.heroScript.heroState==y.isAttacking&&this.heroScript.heroMode!=f.bow&&this.distance<=190&&!this.isbossDead&&this.scheduleOnce((function(){this.bossScript.bossTakeDamage(this.heroScript.attackPower),this.bossScript.bossState=S.isHurt}),.2),this.heroScript.getArrowPosition()&&!this.isbossDead&&this.heroScript.getArrowPosition().subtract(this.bossNode.getPosition()).length()<=120&&(this.bossScript.bossTakeDamage(this.heroScript.attackPower),this.bossScript.bossState=S.isHurt,this.heroScript.arrow.destroy()),this.bossScript.hp<=0&&!this.isbossDead&&(this.bossScript.bossState=S.isDie,this.bossNode.getComponent(l).stop(),this.BGM.play(),this.isbossDead=!0,this.unschedule(this.bossScript.callback),this.dialogScript.init([{name:"旁白",content:"（勇敢的蘇打敗了神，成功阻止了末日的到來）",url:null},{name:"旁白",content:"（他的勇氣和智慧克服了一切阻礙，萬物也因此得到救贖）",url:null},{name:"旁白",content:"（希望之光再次照耀大地，地球得以回歸平靜）",url:null}]))},e}(g)).prototype,"bossNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(M.prototype,"heroNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(M.prototype,"UINode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(M.prototype,"DialogNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(M.prototype,"triggerNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(M.prototype,"cameraNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(M.prototype,"badEnding",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(M.prototype,"happyEnding",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=M))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/TAKE7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialogue.ts"],(function(t){var e,o,i,n,a,r,l,c,u,s,d,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,c=t.VideoPlayer,u=t.AudioSource,s=t.director,d=t.Input,p=t.Component},function(t){h=t.dialogue}],execute:function(){var g,f,y,T,m,D,E;a._RF.push({},"27a73EHLQFIXKufX14qUeA7","TAKE7",void 0);var v=r.ccclass,S=r.property;t("TAKE7",(g=v("TAKE7"),f=S(l),y=S(c),g((D=e((m=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"DialogNode",D,n(e)),e.dialogScript=void 0,i(e,"END",E,n(e)),e.BGM=new u,e.animationPlayed=!1,e}o(e,t);var a=e.prototype;return a.onload=function(){this.END.node.on(c.EventType.PAUSED,this.onVideoCompleted,this)},a.start=function(){s.preloadScene("TAKE3"),this.BGM=this.node.getComponent(u),this.dialogScript=this.DialogNode.getComponent(h),this.dialogScript.init([{name:"旁白",content:"（蘇完成了自己的使命，日子回歸平常）",url:null},{name:"旁白",content:"（看似一切依舊，但現在有了家人的陪伴）",url:null},{name:"旁白",content:"（或許對蘇來說，這一切就像一場夢吧）",url:null},{name:"旁白",content:"（那麼，在夢醒之後，又會有什麼樣的挑戰等著他呢？）",url:null}])},a.onVideoCompleted=function(t){console.log("Video completed")},a.onTouchStart=function(t){this.END.node.active=!0,this.END.play(),this.DialogNode.off(d.EventType.TOUCH_START,this.onTouchStart,this)},a.update=function(t){this.DialogNode.active=!0,"（那麼，在夢醒之後，又會有什麼樣的挑戰等著他呢？）"!==this.dialogScript.textLabel.string||this.animationPlayed||(this.animationPlayed=!0,this.DialogNode.on(d.EventType.TOUCH_START,this.onTouchStart,this))},e}(p)).prototype,"DialogNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(m.prototype,"END",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=m))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/tool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,a,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.resources,i=t.SpriteFrame,a=t.Sprite,c=t.Component}],execute:function(){var u;e._RF.push({},"bc161a0sU1KY7mqOBEipAak","tool",void 0);var s=n.ccclass;n.property,t("tool",s("tool")(u=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).toolName=void 0,o}o(e,t);var n=e.prototype;return n.init=function(t){var o=this;r.load(t.url,i,(function(t,e){o.node.getComponent(a).spriteFrame=e})),this.toolName=t.name},n.start=function(){},n.getToolName=function(){return this.toolName},n.update=function(t){},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,o,r,u,c,a,h,l,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,c=t.Node,a=t.SpriteFrame,h=t.Input,l=t.Sprite,s=t.Component}],execute:function(){var p,T,f,g,C,b,k,m,y,E,B,v,d,A,_,w,S,z,U,F,H;r._RF.push({},"9b256Ah5DpFaYaPVExvym/e","UI",void 0);var L=u.ccclass,R=u.property;t("NewComponent",(p=L("NewComponent"),T=R(c),f=R(c),g=R(c),C=R(a),b=R(a),k=R(a),m=R(a),y=R(a),E=R(a),p((d=n((v=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,i(n,"leftTouch",d,o(n)),i(n,"rightTouch",A,o(n)),i(n,"attackTouch",_,o(n)),i(n,"rightButton",w,o(n)),i(n,"leftButton",S,o(n)),i(n,"rightButtonClick",z,o(n)),i(n,"leftButtonClick",U,o(n)),i(n,"attackButton",F,o(n)),i(n,"attackButtonClick",H,o(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.leftTouch.on(h.EventType.TOUCH_START,this.onTouchStartLeft,this),this.rightTouch.on(h.EventType.TOUCH_START,this.onTouchStartRight,this),this.leftTouch.on(h.EventType.TOUCH_END,this.onTouchEndLeft,this),this.rightTouch.on(h.EventType.TOUCH_END,this.onTouchEndRight,this),this.leftTouch.on(h.EventType.TOUCH_CANCEL,this.onTouchEndLeft,this),this.rightTouch.on(h.EventType.TOUCH_CANCEL,this.onTouchEndRight,this),this.attackTouch.on(h.EventType.TOUCH_START,this.onTouchStartAttack,this),this.attackTouch.on(h.EventType.TOUCH_END,this.onTouchEndAttack,this),this.attackTouch.on(h.EventType.TOUCH_CANCEL,this.onTouchEndAttack,this)},r.onTouchStartRight=function(t){this.rightTouch.getComponent(l).spriteFrame=this.rightButtonClick},r.onTouchStartLeft=function(t){this.leftTouch.getComponent(l).spriteFrame=this.leftButtonClick},r.onTouchEndLeft=function(t){this.leftTouch.getComponent(l).spriteFrame=this.leftButton},r.onTouchEndRight=function(t){this.rightTouch.getComponent(l).spriteFrame=this.rightButton},r.onTouchStartAttack=function(t){this.attackTouch.getComponent(l).spriteFrame=this.attackButtonClick},r.onTouchEndAttack=function(t){this.attackTouch.getComponent(l).spriteFrame=this.attackButton},r.update=function(t){},n}(s)).prototype,"leftTouch",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(v.prototype,"rightTouch",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(v.prototype,"attackTouch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(v.prototype,"rightButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(v.prototype,"leftButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(v.prototype,"rightButtonClick",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(v.prototype,"leftButtonClick",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(v.prototype,"attackButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(v.prototype,"attackButtonClick",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=v))||B));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});